<?xml version = "1.0" encoding = "utf-8"?>
    <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns = "http://www.w3.org/1999/xhtml">
    <head>
    <title> Assignment 11</title>
        <script type = "text/javascript">
            <!--
            var counterArray = [0,0,0,0,0,0,0,0,0]; // intilizing an array to keep track of salary range counts
            var grossSales; // initilizing the variable for input
            var salary = 0.0; //the calculated salary of the salesperson
            var grossSalesStr; //the string input from the form what will be parsed
            var salesPersonCount = 0; //the number that identifies the individual salesperson
            var is_NaN = true; //flag for testing whether a string is a number
                
                function submitGrossSales(){ //takes the text in the form and if valid submits it to the table
                    grossSalesStr = document.getElementById("GSales").value;
                    grossSales = parseInt(grossSalesStr, 10);
                    is_NaN = isNaN(grossSales);  
                if (is_NaN == true){
                   document.getElementById("output").innerHTML = "The input must be a real number.";
                   document.getElementById("GSales").value = "";
                }
                else{
                    salary = getSalary(grossSales); // method call with grossSales as arguement, should return the salary
                    increaseArray(salary, counterArray); //method call with salary as arguement
                    document.getElementById("output").innerHTML = "The input was accepted";
                    document.getElementById("GSales").value = "";
                }

            }

            function getSalary(grossSales) // method to calculate salary, uses gross sales as arguement and returns gross sales
            {
                salary = ((grossSales * 0.09) + 200);
                return salary;
            }

            function displayMessage(counterArray) // function to display the results
            {
                document.write("<table width = '50%' border = '1'>"+ 
                    "<tr><th>Salary Range</th><th>Salesperson Count</th></tr>");
                document.write("<tr><th>$200 - 299 </th><th>"+
                    counterArray[0]+
                    "</th></tr>");
                document.write("<tr><th>$300 - 399 </th><th>"+
                    counterArray[1]+
                    "</th></tr>");
                document.write("<tr><th>$400 - 499 </th><th>"+
                    counterArray[2]+
                    "</th></tr>");
                document.write("<tr><th>$500 - 599</th><th>"+
                    counterArray[3]+
                    "</th></tr>");
                document.write("<tr><th>$600 - 699</th><th>"+
                    counterArray[4]+
                    "</th></tr>");
                document.write("<tr><th>$700 - 799</th><th>"+
                    counterArray[5]+
                    "</th></tr>");
                document.write("<tr><th>$800 - 899</th><th>"+
                    counterArray[6]+
                    "</th></tr>");
                document.write("<tr><th>$900 - 999</th><th>"+
                    counterArray[7]+
                    "</th></tr>");
                document.write("<tr><th>$1000 and over</th><th>"+
                    counterArray[8]+
                    "</th></tr>");
                document.write("</table>");
            }

            function increaseArray(salary, counterArray) 
            // function to find out which counter to increase based on salary
            {
                if (salary >= 1000.00) {
                    counterArray[8]++;
                } else if (salary >= 900.00) {
                    counterArray[7]++;
                } else if (salary >= 800.00) {
                    counterArray[6]++;
                } else if (salary >= 700.00) {
                    counterArray[5]++;
                } else if (salary >= 600.00) {
                    counterArray[4]++;
                } else if (salary >= 500.00) {
                    counterArray[3]++;
                } else if (salary >= 400.00) {
                    counterArray[2]++;
                } else if (salary >= 300.00) {
                    counterArray[1]++;
                } else if (salary >= 200.00) {
                    counterArray[0]++;
                }
            }

            //initialize user input     
               
            
           
        // -->
        </script>
    </head>
    <body>
        <p>Please input the gross sales of each salesperson then click "Submit Gross Sales"</p>
        <input type="text" id="GSales" name="Gross Sales"/><br>
        <input name="submit" onclick="submitGrossSales()" type="submit" value="Submit Gross Sales"/>
        <input name="submit" onclick="displayMessage(counterArray)" type="submit" value="Display Table"/>
        <p id="output"></p>
        </body>
</html>